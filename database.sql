-- phpMyAdmin SQL Dump
-- version 5.2.1
-- https://www.phpmyadmin.net/
--
-- Хост: 127.0.0.1
-- Время создания: Мар 09 2025 г., 16:19
-- Версия сервера: 10.4.32-MariaDB
-- Версия PHP: 8.2.12

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- База данных: `school`
--

-- --------------------------------------------------------

--
-- Структура таблицы `classes`
--

CREATE TABLE `classes` (
  `id` int(11) NOT NULL,
  `grade` int(11) NOT NULL,
  `section` varchar(5) NOT NULL,
  `teacher_id` int(11) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Дамп данных таблицы `classes`
--

INSERT INTO `classes` (`id`, `grade`, `section`, `teacher_id`) VALUES
(1, 1, 'А', 3),
(2, 1, 'Б', 1),
(3, 2, 'А', 2),
(4, 2, 'Б', 2),
(17, 1, 'В', 2),
(18, 2, 'В', 5),
(19, 2, 'Г', 3),
(20, 1, 'Г', 5);

-- --------------------------------------------------------

--
-- Структура таблицы `students`
--

CREATE TABLE `students` (
  `id` int(11) NOT NULL,
  `first_name` varchar(50) NOT NULL,
  `second_name` varchar(50) NOT NULL,
  `patronymic` varchar(50) DEFAULT NULL,
  `birth_date` date NOT NULL,
  `class_id` int(11) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Дамп данных таблицы `students`
--

INSERT INTO `students` (`id`, `first_name`, `second_name`, `patronymic`, `birth_date`, `class_id`) VALUES
(142, 'Дмитрий', 'Петров', 'Алексеевич', '2017-06-24', 1),
(143, 'Елена', 'Смирнова', 'Олеговна', '2017-07-30', 1),
(144, 'Максим', 'Васильев', 'Игоревич', '2017-08-10', 1),
(145, 'Михаил', 'Козлов', 'Владимирович', '2016-09-15', 2),
(146, 'София', 'Сидорова', 'Игоревна', '2016-11-03', 2),
(147, 'Артем', 'Воронов', 'Дмитриевич', '2016-08-19', 2),
(148, 'Вера', 'Мельникова', 'Петровна', '2016-12-02', 2),
(149, 'Александр', 'Федоров', 'Сергеевич', '2015-04-07', 3),
(150, 'Василиса', 'Кузнецова', 'Александровна', '2015-03-18', 3),
(151, 'Кирилл', 'Тихонов', 'Евгеньевич', '2015-02-22', 3),
(152, 'Олег', 'Семенов', 'Дмитриевич', '2015-01-15', 3),
(153, 'Полина', 'Николаева', 'Павловна', '2014-10-10', 4),
(154, 'Игорь', 'Зайцев', 'Максимович', '2014-12-05', 4),
(158, 'Матвей', 'Пономаренко', 'Витальевич', '2014-07-16', 4),
(159, 'Дмитрий', 'Юмшанов', 'Отличников', '2015-02-05', 4),
(160, 'Роман', 'Михайлов', 'Початкович', '2014-06-16', 4),
(164, 'Алексей', 'Иванов', 'Петрович', '2014-05-12', 1),
(165, 'Мария', 'Смирнова', 'Алексеевна', '2015-07-22', 2),
(166, 'Иван', 'Кузнецов', 'Иванович', '2016-01-15', 3),
(167, 'Елена', 'Попова', 'Сергеевна', '2014-10-30', 4),
(168, 'Дмитрий', 'Васильев', 'Николаевич', '2015-03-14', 1),
(169, 'Анна', 'Петрова', 'Дмитриевна', '2016-08-05', 2),
(170, 'Сергей', 'Соколов', 'Андреевич', '2014-12-20', 3),
(171, 'Ольга', 'Морозова', 'Владимировна', '2015-06-25', 4),
(172, 'Николай', 'Зайцев', 'Борисович', '2016-02-17', 1),
(173, 'Екатерина', 'Козлова', 'Игоревна', '2014-09-11', 2),
(174, 'Максим', 'Новиков', 'Олегович', '2015-11-29', 3),
(175, 'Татьяна', 'Беляева', 'Анатольевна', '2016-04-08', 4),
(176, 'Артем', 'Михайлов', 'Семенович', '2014-07-19', 1),
(177, 'Виктория', 'Федорова', 'Григорьевна', '2015-05-30', 2),
(178, 'Роман', 'Орлов', 'Денисович', '2016-09-14', 3),
(179, 'Дарья', 'Андреева', 'Юрьевна', '2014-11-07', 4),
(180, 'Константин', 'Макаров', 'Евгеньевич', '2015-01-25', 1),
(181, 'Елена', 'Николаева', 'Васильевна', '2016-06-12', 2),
(182, 'Владимир', 'Захаров', 'Романович', '2014-03-08', 3),
(183, 'Светлана', 'Зуева', 'Павловна', '2015-08-18', 4),
(184, 'Александр', 'Сергеев', 'Степанович', '2016-10-23', 1),
(185, 'Кристина', 'Павлова', 'Александровна', '2014-06-04', 2),
(186, 'Глеб', 'Тихонов', 'Петрович', '2015-02-09', 3),
(187, 'Вероника', 'Борисова', 'Николаевна', '2016-07-27', 4),
(188, 'Игорь', 'Фролов', 'Максимович', '2014-12-15', 1),
(189, 'Евгения', 'Медведева', 'Сергеевна', '2015-03-21', 2),
(190, 'Степан', 'Гаврилов', 'Олегович', '2016-09-02', 3),
(191, 'Лилия', 'Данилова', 'Владимировна', '2014-08-11', 4),
(192, 'Павел', 'Семенов', 'Анатольевич', '2015-05-06', 1),
(193, 'Анастасия', 'Егорова', 'Игоревна', '2016-11-19', 2),
(194, 'Василий', 'Романов', 'Александрович', '2014-04-21', 1),
(195, 'Юлия', 'Королева', 'Викторовна', '2015-09-15', 2),
(196, 'Олег', 'Лебедев', 'Дмитриевич', '2016-02-28', 3),
(197, 'Елена', 'Григорьева', 'Сергеевна', '2014-07-12', 4),
(198, 'Виктор', 'Фролов', 'Олегович', '2015-06-30', 1),
(199, 'Маргарита', 'Мельникова', 'Андреевна', '2016-10-05', 2),
(200, 'Александр', 'Соловьев', 'Николаевич', '2014-01-17', 3),
(201, 'Тамара', 'Тимофеева', 'Ивановна', '2015-11-20', 4),
(202, 'Денис', 'Крылов', 'Романович', '2016-05-18', 1),
(203, 'Екатерина', 'Бурова', 'Васильевна', '2014-09-24', 2),
(204, 'Никита', 'Воронов', 'Алексеевич', '2015-07-01', 3),
(205, 'София', 'Федотова', 'Павловна', '2016-12-14', 4),
(206, 'Георгий', 'Гусев', 'Денисович', '2014-08-29', 1),
(207, 'Полина', 'Киселева', 'Игоревна', '2015-04-10', 2),
(208, 'Матвей', 'Ефимов', 'Максимович', '2016-03-05', 3),
(209, 'Антонина', 'Логинова', 'Андреевна', '2014-11-09', 4),
(210, 'Руслан', 'Савельев', 'Борисович', '2015-02-14', 1),
(211, 'Валерия', 'Чернова', 'Сергеевна', '2016-07-22', 2),
(212, 'Андрей', 'Рябов', 'Константинович', '2014-06-11', 3),
(213, 'Кристина', 'Михайлова', 'Дмитриевна', '2015-10-17', 4),
(214, 'Станислав', 'Зайцев', 'Олегович', '2016-01-08', 1),
(215, 'Наталья', 'Тихонова', 'Романовна', '2014-05-31', 2),
(216, 'Егор', 'Плотников', 'Александрович', '2015-12-02', 3),
(217, 'Арина', 'Галкина', 'Ивановна', '2016-08-07', 4),
(218, 'Владислав', 'Дмитриев', 'Николаевич', '2014-02-19', 1),
(219, 'Марина', 'Богданова', 'Петровна', '2015-09-09', 2),
(220, 'Сергей', 'Винокуров', 'Андреевич', '2016-04-23', 3),
(221, 'Олеся', 'Панина', 'Георгиевна', '2014-12-18', 4),
(222, 'Даниил', 'Ершов', 'Леонидович', '2015-03-29', 1),
(223, 'Татьяна', 'Сазонова', 'Степановна', '2016-06-14', 2),
(224, 'Артем', 'Сидоров', 'Дмитриевич', '2014-03-15', 17),
(225, 'Елизавета', 'Васильева', 'Игоревна', '2015-08-22', 18),
(226, 'Михаил', 'Захаров', 'Петрович', '2016-05-11', 19),
(227, 'Оксана', 'Новикова', 'Владимировна', '2014-12-07', 20),
(228, 'Иван', 'Беляков', 'Сергеевич', '2015-06-29', 17),
(229, 'Надежда', 'Федосеева', 'Андреевна', '2016-02-14', 18),
(230, 'Алексей', 'Миронов', 'Константинович', '2014-09-03', 19),
(231, 'Юлия', 'Костина', 'Анатольевна', '2015-11-21', 20),
(232, 'Владимир', 'Горбунов', 'Алексеевич', '2016-07-19', 17),
(233, 'Кристина', 'Ларионова', 'Павловна', '2014-04-25', 18),
(234, 'Геннадий', 'Евсеев', 'Олегович', '2015-01-12', 19),
(235, 'Дарья', 'Суханова', 'Ивановна', '2016-09-15', 20),
(236, 'Анатолий', 'Дроздов', 'Николаевич', '2014-06-08', 17),
(237, 'Екатерина', 'Трофимова', 'Борисовна', '2015-03-27', 18),
(238, 'Николай', 'Агапов', 'Станиславович', '2016-10-30', 19),
(239, 'Анна', 'Герасимова', 'Денисовна', '2014-11-14', 20),
(240, 'Глеб', 'Платонов', 'Вячеславович', '2015-05-02', 17),
(241, 'Олеся', 'Калинина', 'Максимовна', '2016-08-09', 18),
(242, 'Василий', 'Фомичев', 'Георгиевич', '2014-12-23', 19),
(243, 'Светлана', 'Пахомова', 'Артемовна', '2015-07-17', 20),
(244, 'Роман', 'Селезнев', 'Юрьевич', '2016-01-05', 17),
(245, 'Ирина', 'Лобанова', 'Александровна', '2014-10-11', 18),
(246, 'Дмитрий', 'Щербаков', 'Романович', '2015-09-24', 19),
(247, 'Анастасия', 'Мальцева', 'Владимировна', '2016-03-31', 20),
(248, 'Юрий', 'Черных', 'Сергеевич', '2014-05-26', 17),
(249, 'Вера', 'Андреева', 'Григорьевна', '2015-02-18', 18),
(250, 'Максим', 'Рыбаков', 'Борисович', '2016-07-07', 19),
(251, 'Елена', 'Савицкая', 'Николаевна', '2014-08-20', 20),
(252, 'Сергей', 'Глушков', 'Константинович', '2015-11-03', 17),
(253, 'Татьяна', 'Громова', 'Артемовна', '2016-04-14', 18),
(254, 'Александр', 'Ершов', 'Юрьевич', '2014-07-30', 19),
(255, 'Марина', 'Зотова', 'Семеновна', '2015-06-11', 20),
(256, 'Вадим', 'Кузьмин', 'Вячеславович', '2016-02-27', 17),
(257, 'Ольга', 'Маслова', 'Максимовна', '2014-09-05', 18),
(258, 'Павел', 'Гордеев', 'Александрович', '2015-10-09', 19),
(259, 'Нина', 'Тимофеева', 'Романовна', '2016-05-23', 20),
(260, 'Игорь', 'Дьячков', 'Борисович', '2014-12-02', 17),
(261, 'Лидия', 'Беспалова', 'Дмитриевна', '2015-04-18', 18),
(262, 'Евгений', 'Корнилов', 'Сергеевич', '2016-11-06', 19),
(263, 'Алёна', 'Мельникова', 'Владимировна', '2014-03-22', 20),
(264, 'Степан', 'Родионов', 'Павлович', '2015-09-13', 17),
(265, 'Зоя', 'Гаврилова', 'Игоревна', '2016-06-08', 18),
(266, 'Олег', 'Сазонов', 'Николаевич', '2014-01-25', 19),
(267, 'Вероника', 'Семенова', 'Денисовна', '2015-07-15', 20),
(268, 'Никита', 'Гуляев', 'Сергеевич', '2016-10-17', 17),
(269, 'Людмила', 'Журавлева', 'Алексеевна', '2014-05-09', 18),
(270, 'Артемий', 'Шевцов', 'Романович', '2015-02-21', 19),
(271, 'Алиса', 'Филатова', 'Константиновна', '2016-09-28', 20),
(272, 'Арсений', 'Медведев', 'Игоревич', '2014-04-10', 17),
(273, 'Виктория', 'Фролова', 'Александровна', '2015-06-15', 17),
(274, 'Иван', 'Смирнов', 'Дмитриевич', '2016-09-25', 17),
(275, 'Дарья', 'Павлова', 'Сергеевна', '2014-02-12', 17),
(276, 'Константин', 'Орлов', 'Максимович', '2015-11-18', 17),
(277, 'Анна', 'Крылова', 'Егоровна', '2016-05-29', 17),
(278, 'Григорий', 'Зайцев', 'Анатольевич', '2014-08-08', 17),
(279, 'Полина', 'Волкова', 'Никитична', '2015-12-22', 17),
(280, 'Марат', 'Терентьев', 'Алексеевич', '2016-07-14', 18),
(281, 'Лилия', 'Федорова', 'Дмитриевна', '2014-05-03', 18),
(282, 'Александр', 'Борисов', 'Сергеевич', '2015-09-17', 18),
(283, 'Елена', 'Гаврилова', 'Ивановна', '2016-02-26', 18),
(284, 'Олег', 'Киселев', 'Николаевич', '2014-10-10', 18),
(285, 'Валерия', 'Тихонова', 'Максимовна', '2015-01-07', 18),
(286, 'Степан', 'Шашков', 'Григорьевич', '2016-08-21', 18),
(287, 'Елизавета', 'Гордеева', 'Владимировна', '2014-03-15', 18),
(288, 'Владислав', 'Александров', 'Константинович', '2015-06-27', 19),
(289, 'Мария', 'Коновалова', 'Олеговна', '2016-11-09', 19),
(290, 'Даниил', 'Петухов', 'Иванович', '2014-07-18', 19),
(291, 'София', 'Соболева', 'Алексеевна', '2015-04-05', 19),
(292, 'Руслан', 'Мартынов', 'Григорьевич', '2016-10-30', 19),
(293, 'Алина', 'Родионова', 'Семеновна', '2014-09-13', 19),
(294, 'Игорь', 'Беляев', 'Павлович', '2015-08-01', 19),
(295, 'Кристина', 'Лапина', 'Юрьевна', '2016-03-22', 19),
(296, 'Станислав', 'Жуков', 'Андреевич', '2014-06-09', 20),
(297, 'Наталья', 'Лазарева', 'Викторовна', '2015-10-14', 20),
(298, 'Максим', 'Гришин', 'Денисович', '2016-01-11', 20),
(299, 'Евгения', 'Савина', 'Романовна', '2014-11-27', 20),
(300, 'Денис', 'Кудрявцев', 'Никитич', '2015-05-20', 20),
(301, 'Вероника', 'Михайлова', 'Артемовна', '2016-09-08', 20),
(302, 'Тимофей', 'Филатов', 'Александрович', '2014-08-03', 20),
(303, 'Оксана', 'Щукина', 'Егоровна', '2015-12-19', 20),
(307, 'Иван', 'Младенцев', 'Петрович', '2018-03-03', 1),
(311, 'Петров', 'Дмитрий', 'Алексеевич', '2017-06-24', 1),
(312, 'Алексеевич', 'Петров', 'Дмитрий', '2017-06-24', 1),
(315, 'Матвей', 'Пономаренко', 'Витальевич', '2019-01-07', 1);

-- --------------------------------------------------------

--
-- Структура таблицы `teachers`
--

CREATE TABLE `teachers` (
  `id` int(11) NOT NULL,
  `first_name` varchar(50) NOT NULL,
  `second_name` varchar(50) NOT NULL,
  `patronymic` varchar(50) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Дамп данных таблицы `teachers`
--

INSERT INTO `teachers` (`id`, `first_name`, `second_name`, `patronymic`) VALUES
(3, 'Алексей', 'Кузнецов', 'Олегович'),
(1, 'Иван', 'Петров', 'Александрович'),
(2, 'Мария', 'Сидорова', 'Викторовна'),
(5, 'Наталья', 'Мельникова', 'Валентиновна');

-- --------------------------------------------------------

--
-- Структура таблицы `users`
--

CREATE TABLE `users` (
  `id` int(11) NOT NULL,
  `username` varchar(50) NOT NULL,
  `password` varchar(255) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Дамп данных таблицы `users`
--

INSERT INTO `users` (`id`, `username`, `password`) VALUES
(1, 'admin', '$2y$12$ah3tcO27J/2Tx8cmgcHDReqvYqVoJsw9DMGpvQdpFDk82Sy.VB4rm'),
(2, 'user_2', '$2y$12$M.oFUaZ51fs6TAn4D1syzeSnfZc1K0JvsCzqgnm6ps1umm7/rfZVW');

--
-- Индексы сохранённых таблиц
--

--
-- Индексы таблицы `classes`
--
ALTER TABLE `classes`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `grade` (`grade`,`section`),
  ADD KEY `fk_teacher` (`teacher_id`);

--
-- Индексы таблицы `students`
--
ALTER TABLE `students`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `second_name` (`second_name`,`first_name`,`patronymic`,`birth_date`),
  ADD KEY `fk_class` (`class_id`);

--
-- Индексы таблицы `teachers`
--
ALTER TABLE `teachers`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `first_name` (`first_name`,`second_name`,`patronymic`);

--
-- Индексы таблицы `users`
--
ALTER TABLE `users`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `username` (`username`);

--
-- AUTO_INCREMENT для сохранённых таблиц
--

--
-- AUTO_INCREMENT для таблицы `classes`
--
ALTER TABLE `classes`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=21;

--
-- AUTO_INCREMENT для таблицы `students`
--
ALTER TABLE `students`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=316;

--
-- AUTO_INCREMENT для таблицы `teachers`
--
ALTER TABLE `teachers`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=6;

--
-- AUTO_INCREMENT для таблицы `users`
--
ALTER TABLE `users`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=3;

--
-- Ограничения внешнего ключа сохраненных таблиц
--

--
-- Ограничения внешнего ключа таблицы `classes`
--
ALTER TABLE `classes`
  ADD CONSTRAINT `fk_teacher` FOREIGN KEY (`teacher_id`) REFERENCES `teachers` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;

--
-- Ограничения внешнего ключа таблицы `students`
--
ALTER TABLE `students`
  ADD CONSTRAINT `fk_class` FOREIGN KEY (`class_id`) REFERENCES `classes` (`id`) ON DELETE CASCADE ON UPDATE CASCADE;
COMMIT;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
